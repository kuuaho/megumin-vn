<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>紅き瞳の物語 — めぐみんとの恋愛シミュレーション</title>
  <meta name="description" content="紅魔族の少女めぐみんとの10話構成の恋愛ビジュアルノベルゲーム">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Noto+Serif+JP:wght@400;700&family=Kaisei+Decol:wght@400;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/event_cg.css">
</head>

<body>
  <div id="game-container">
    <!-- ===== Title Screen ===== -->
    <div id="title-screen" class="screen active">
      <div class="title-bg-effects">
        <div class="particle" style="--delay:0s;--x:20%;--duration:8s"></div>
        <div class="particle" style="--delay:1s;--x:40%;--duration:6s"></div>
        <div class="particle" style="--delay:2s;--x:60%;--duration:9s"></div>
        <div class="particle" style="--delay:3s;--x:80%;--duration:7s"></div>
        <div class="particle" style="--delay:0.5s;--x:10%;--duration:10s"></div>
        <div class="particle" style="--delay:1.5s;--x:50%;--duration:5s"></div>
        <div class="particle" style="--delay:2.5s;--x:70%;--duration:8s"></div>
        <div class="particle" style="--delay:3.5s;--x:90%;--duration:6s"></div>
        <div class="particle" style="--delay:4s;--x:30%;--duration:7s"></div>
        <div class="particle" style="--delay:4.5s;--x:55%;--duration:9s"></div>
      </div>
      <div class="title-content">
        <div class="title-emblem">✦</div>
        <h1 class="title-main">紅き瞳の物語</h1>
        <p class="title-sub">— kuu と めぐみん の恋愛シミュレーション —</p>
        <div class="title-menu">
          <button class="menu-btn" id="btn-start">
            <span class="btn-icon">▶</span>はじめから
          </button>
          <button class="menu-btn" id="btn-continue" style="display:none">
            <span class="btn-icon">↻</span>つづきから
          </button>
          <button class="menu-btn" id="btn-chapters">
            <span class="btn-icon">📖</span>チャプター選択
          </button>
        </div>
      </div>
      <div class="title-footer">
        <p>© 2026 紅き瞳の物語 — Visual Novel</p>
      </div>
    </div>

    <!-- ===== Chapter Select Screen ===== -->
    <div id="chapter-screen" class="screen">
      <div class="chapter-header">
        <button class="back-btn" id="btn-back-title">← 戻る</button>
        <h2>チャプター選択</h2>
      </div>
      <div class="chapter-grid" id="chapter-grid">
        <!-- Generated by JS -->
      </div>
    </div>

    <!-- ===== Save/Load Screen ===== -->
    <div id="save-screen" class="screen">
      <div class="chapter-header">
        <button class="back-btn" id="btn-back-game">← 戻る</button>
        <h2 id="save-screen-title">セーブ / ロード</h2>
      </div>
      <div class="save-slots" id="save-slots">
        <!-- Generated by JS -->
      </div>
    </div>

    <!-- ===== Game Screen ===== -->
    <div id="game-screen" class="screen">
      <!-- Background Layer -->
      <div id="bg-layer" class="bg-layer"></div>
      <div id="bg-layer-next" class="bg-layer"></div>

      <!-- Effect Layer -->
      <div id="effect-layer" class="effect-layer"></div>

      <!-- Character Layer -->
      <div id="char-layer" class="char-layer">
        <div id="character-sprite" class="character-sprite"></div>
      </div>

      <!-- Event CG Layer (Full Screen) -->
      <div id="event-layer" class="event-layer"></div>

      <!-- Chapter Title Overlay -->
      <div id="chapter-title-overlay" class="chapter-title-overlay">
        <div class="chapter-title-content">
          <span class="chapter-number" id="chapter-number"></span>
          <span class="chapter-name" id="chapter-name"></span>
        </div>
      </div>

      <!-- UI Layer -->
      <div id="ui-layer" class="ui-layer">
        <!-- Top Bar -->
        <div class="top-bar">
          <div class="chapter-indicator" id="chapter-indicator"></div>
          <div class="top-bar-buttons">
            <button class="icon-btn" id="btn-auto" title="オート">▶▶</button>
            <button class="icon-btn" id="btn-skip" title="スキップ">⏩</button>
            <button class="icon-btn" id="btn-save-game" title="セーブ">💾</button>
            <button class="icon-btn" id="btn-load-game" title="ロード">📂</button>
            <button class="icon-btn" id="btn-menu" title="メニュー">☰</button>
          </div>
        </div>

        <!-- Affection Display -->
        <div class="affection-display" id="affection-display">
          <span class="heart-icon">♥</span>
          <div class="affection-bar">
            <div class="affection-fill" id="affection-fill"></div>
          </div>
        </div>

        <!-- Dialogue Box -->
        <div class="dialogue-container" id="dialogue-container">
          <div class="speaker-name" id="speaker-name"></div>
          <div class="dialogue-box">
            <div class="dialogue-text" id="dialogue-text"></div>
            <div class="click-indicator" id="click-indicator">▼</div>
          </div>
        </div>

        <!-- Choice Container -->
        <div class="choice-container" id="choice-container">
          <!-- Generated by JS -->
        </div>
      </div>

      <!-- Click Area -->
      <div id="click-area" class="click-area"></div>
    </div>

    <!-- ===== Ending Screen ===== -->
    <div id="ending-screen" class="screen">
      <div class="ending-content">
        <div class="ending-decoration">✦ ✦ ✦</div>
        <h2 class="ending-title" id="ending-title"></h2>
        <p class="ending-text" id="ending-text"></p>
        <div class="ending-stats" id="ending-stats"></div>
        <button class="menu-btn" id="btn-ending-title">
          <span class="btn-icon">🏠</span>タイトルに戻る
        </button>
      </div>
    </div>
  </div>

  <script src="js/save.js"></script>
  <script src="js/scenario.js"></script>
  <script src="js/engine.js"></script>
</body>

</html>